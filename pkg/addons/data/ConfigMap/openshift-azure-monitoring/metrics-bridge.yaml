apiVersion: v1
data:
  config.yaml: |
    prometheusEndpoint: https://prometheus-k8s.openshift-monitoring.svc:9091/
    statsdSocket: /var/etw/mdm_statsd.socket
    queries:
    - query: '{__name__=~"ALERTS",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: 'sum(apiserver_request_count) without (client, code, contentType, endpoint, job, namespace, resource, scope, service, subresource, verb)'
      name: apiserver_request_count
    - query: 'sum(apiserver_request_latencies_bucket) without (endpoint, job, namespace, resource, scope, service, subresource, verb)'
      name: apiserver_request_latencies_bucket
    - query: 'sum(apiserver_request_latencies_sum) without (endpoint, job, namespace, resource, scope, service, subresource, verb)'
      name: apiserver_request_latencies_sum
    - query: '{__name__=~"cloudprovider_.+"}'
    - query: '{__name__=~"container_cpu_(system|user)_seconds_total",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_fs_(limit|usage)_bytes",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_fs_sector_(reads|writes)_total",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_memory_(cache|failcnt|rss)",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_network_(receive|transmit)_(bytes|packets)_total",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_spec_memory_limit_bytes",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"container_start_time_seconds",namespace=~"default|openshift|openshift-.+|kube-.+|",container_name!="",container_name!="POD"}'
    - query: '{__name__=~"kube_cronjob_next_schedule_time",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_cronjob_status_last_schedule_time",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_daemonset_(status|updated)_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_deployment_status_replicas_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_deployment_status_replicas",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_endpoint_address_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_job_complete",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_job_status_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_node_(spec|status)_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_node_info",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_persistentvolume_status_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_persistentvolumeclaim_status_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_pod_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_replicaset_status_.+_replicas",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_replicaset_status_replicas",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_statefulset_status_replicas_.+",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kube_statefulset_status_replicas",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kubelet_docker_operations_errors",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"kubelet_runtime_operations_errors",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"node_boot_time_seconds"}'
    - query: '{__name__=~"node_cpu_seconds_total"}'
    - query: '{__name__=~"node_disk_(read|written)_bytes_total"}'
    - query: '{__name__=~"node_filesystem_(free|size)_bytes"}'
    - query: '{__name__=~"node_filesystem_device_error"}'
    - query: '{__name__=~"node_filesystem_readonly"}'
    - query: '{__name__=~"node_load(1|5|15)"}'
    - query: '{__name__=~"node_memory_.+"}'
    - query: '{__name__=~"node_network_receive_(bytes|drop|errs|packets)_total"}'
    - query: '{__name__=~"node_network_transmit_(bytes|drop|errs|packets)_total"}'
    - query: '{__name__=~"node_uname_info"}'
    - query: '{__name__=~"process_cpu_seconds_total",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"process_max_fds",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"process_open_fds",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    - query: '{__name__=~"storage_.+",namespace=~"default|openshift|openshift-.+|kube-.+|",volume_plugin="kubernetes.io/azure-disk"}'
    - query: '{__name__=~"up",namespace=~"default|openshift|openshift-.+|kube-.+|"}'
    account: '*** GENERATED ***'
    namespace: Prometheus
    region: '*** GENERATED ***'
    resourceGroupName: '*** GENERATED ***'
    resourceName: '*** GENERATED ***'
    subscriptionId: '*** GENERATED ***'
kind: ConfigMap
metadata:
  name: metrics-bridge
  namespace: openshift-azure-monitoring
